<?xml version="1.0" encoding="UTF-8" ?>
<templates>
    <t t-name="account_reports.TaxReportFilterDate" t-inherit="account_reports.AccountReportFilterDate">
        <xpath expr="//t[last()]/t[@t-call='account_reports.AccountReportFilterDateSelection']" position="before">
            <DropdownItem
                t-if="this.controller.options.show_tax_period_filter"
                tag="'div'"
                class="{
                    'd-flex justify-content-between date_filter date_filter_tax_period': true,
                    'selected': this.isPeriodSelected('tax_period'),
                }"
                attrs="{
                    'data-period-type': 'tax_period',
                    'data-mode': this.dateFilter.editing === 'tax_period' ? 'edit' : 'view',
                }"
                onSelected="() => this.selectDateFilter('tax_period', controller.options.date.period_type != 'tax_period')"
                closingMode="'none'"
            >
                <div class="filter_name pe-3">
                    Tax Period
                </div>

                <div class="d-flex justify-content-between">
                    <button
                        class="btn_previous_date fa fa-caret-left"
                        t-on-click="() => this.selectPreviousPeriod('tax_period')"
                    />
                    <input
                        class="o_input input_current_date"
                        type="text"
                        t-att-data-value="this.displayPeriod('tax_period')"
                        t-att-value="this.displayPeriod('tax_period')"
                        t-att="{'readonly': this.dateFilter.editing !== 'tax_period'}"
                        t-on-change="ev => this.saveDateFilter('tax_period', ev.target)"
                        t-on-click="ev => this.dateFilter.editing !== 'tax_period' and this.isPeriodSelected('tax_period') and this.editDateFilter('tax_period', ev.target)"
                    />
                    <button
                        class="btn_next_date fa fa-caret-right"
                        t-on-click="() => this.selectNextPeriod('tax_period')"
                    />
                </div>
            </DropdownItem>
            <div id="filter_date_divider_range_period" class="dropdown-divider"/>
        </xpath>
    </t>
</templates>
