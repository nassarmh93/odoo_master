<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">
    <t t-name="mrp_workorder.MrpQualityCheckConfirmationDialog">
    <div class="o_tablet_popups" t-att-class="props.worksheetData ? 'o_worksheet_modal' : ''">
        <Dialog size="'fs'" title="props.title" modalRef="modalRef" footer="true">
            <t t-set-slot="header">
                <h4 class="modal-title text-break" t-esc="props.title"/>
                <button type="button" class="btn-close" aria-label="Close" tabindex="-1" t-on-click="_cancel"/>
            </t>
            <div class="o_quality_check_body d-flex w-100">
                <div class="o_instruction w-75">
                    <div class="o_field_widget o_field_html">
                        <HtmlField t-props="htmlInfo"/>
                    </div>
                </div>
                <div t-if="recordData.additional_note" t-out="recordData.additional_note"/>
            </div>
            <div t-if="recordData.test_type === 'measure'" class="o_workorder_bar_left o_workorder_bar_content">
                <label for="measure">Measure:</label>
                <span id="measure" name="measure" class="o_field_widget text-end pe-2">
                    <FloatField t-props="measureInfo"/>
                </span>
                <span t-esc="recordData.norm_unit" class="text-lowercase"/>
            </div>
            <div t-elif="recordData.test_type === 'picture'" class="workorder_picture">
                <TabletImageField t-props="picInfo"/>
            </div>
            <t t-if="props.worksheetData">
                <DocumentViewer t-props="props.worksheetData"/>
            </t>
            <div t-if="props.checkInstruction" class="o_tablet_instruction_note"
                 t-out="props.checkInstruction"/>
            <t t-set-slot="footer">
                <div class="d-flex justify-content-between w-100">
                    <div>
                        <t t-if="recordData.test_type === 'passfail'">
                            <button class="btn btn-danger me-2" barcode_trigger="FAIL"
                                    t-att-disabled="state.disabled"
                                    t-on-click="fail">
                                Fail
                            </button>
                            <button class="btn btn-success me-2" barcode_trigger="PASS"
                                    t-att-disabled="state.disabled"
                                    t-on-click="pass">
                                Pass
                            </button>
                        </t>
                        <button t-if="recordData.test_type === 'worksheet'" class="btn btn-primary me-2"
                                t-att-disabled="state.disabled"
                                t-on-click="openWorksheet">
                            <i class="fa fa-pencil me-2"/>Fill in worksheet
                        </button>
                        <button t-if="shouldDisplayValidateButton"
                                t-att-disabled="state.disabled"
                                class="btn btn-primary me-2" t-on-click="validate" t-esc="confirmLabel"
                                t-att-barcode_trigger="recordData.test_type === 'print_label' ? 'PRPL' : 'NEXT'"/>
                    </div>
                    <div>
                        <button t-if="props.openPreviousCheck" t-on-click="back"
                                class="btn btn-secondary me-2"
                                t-att-disabled="state.disabled"
                                barcode_trigger="PREV">&lt; Back</button>
                        <button t-if="props.openNextCheck" t-on-click="skip"
                                class="btn btn-secondary"
                                t-att-disabled="state.disabled"
                                barcode_trigger="SKIP">Skip &gt;</button>
                    </div>
                </div>
            </t>
        </Dialog>
        </div>
    </t>
</templates>
